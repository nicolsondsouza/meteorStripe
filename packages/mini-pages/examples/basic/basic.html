<head>
  <title>mini-pages</title>
</head>

<body>
</body>

<template name="layout">
  <div class="navbar">
    <div class="navbar-inner">
      <a class="brand" href="{{rootPath}}">mini-pages</a>
      <ul class="nav">
        <li class="{{navClassFor 'posts'}}"><a href="{{postIndexPath}}">Posts</a></li>
        <li class="{{navClassFor 'secret'}}"><a href="{{secretPath}}">Secret</a></li>
      </ul>
    </div>
  </div>

  <ul>
    <li>template: {{pageTemplate}}</li>
    <li>pageTemplateEquals 'postIndex': {{pageTemplateEquals 'postIndex'}}</li>
    <li>pageNav: {{pageNav}}</li>
    <li>pageNavEquals 'posts': {{pageNavEquals 'posts'}}</li>
    <li>pageLayout: {{pageLayout}}</li>
    <li>pageLayoutEquals 'layout': {{pageLayoutEquals 'layout'}}</li>
    <li>pagePath: {{pagePath}}</li>
    <li>page: {{page}}</li>
  </ul>

  <div class="container">
    {{{yield}}}
  </div>
</template>

<template name="postIndex">
  <h1>Post Index</h1> 

  <table class="table">
    <thead>
      <th>Title</th>
      <th>Actions</th>
    </thead>
    <tbody>
      {{#each posts}}
        {{> postRow }}    
      {{/each}}
    </tbody>
  </table>
</template>

<template name="postRow">
   <tr>
      <td>{{title}}</td>
      <td><a href="{{postShowPath}}">Show</a></td>
   </tr>
</template>

<template name="postShow">
  <h1>Post Show</h1>
  <h3>{{page.post.title}}</h3>
</template>

<template name="loggingIn">
  <h1>Logging In...</h1>
  <p>Session.set("loggingIn", false) to simulate login complete.</p>
</template>

<template name="secret">
   <h1>Secret</h1>

   <!-- Get page invocation variables using the page helper -->
   <h3>{{page.secret}}</h3>
</template>

<template name="notFound">
  <h1>404 - Not Found</h1>
</template>
